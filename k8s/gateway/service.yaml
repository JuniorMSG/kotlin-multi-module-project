apiVersion: v1
kind: Service
metadata:
  name: api-gateway
  namespace: gateway
  labels:
    app: api-gateway
spec:
  type: LoadBalancer              # 또는 NodePort
  selector:
    app: api-gateway
  ports:
    - name: http
      port: 80                    # 외부 포트
      targetPort: 10000           # 컨테이너 포트
      protocol: TCP
      # nodePort: 30000           # NodePort 사용 시
    - name: debug
      port: 5005
      targetPort: 5005
      protocol: TCP
  sessionAffinity: ClientIP       # 세션 유지 (선택)
  sessionAffinityConfig:
    clientIP:
      timeoutSeconds: 10800
